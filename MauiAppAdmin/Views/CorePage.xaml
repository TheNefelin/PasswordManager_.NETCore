<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="MauiAppAdmin.Views.CorePage"
             Title="Password Manager">

    <Grid Padding="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <HorizontalStackLayout Grid.Row="0" Spacing="10">
            <!-- Bot칩n 1 -->
            <Border StrokeThickness="2" WidthRequest="80" HeightRequest="80" Padding="0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ClearCommand}"/>
                </Border.GestureRecognizers>

                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10"/>
                </Border.StrokeShape>

                <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center">
                    <Image Source="icon_shattered_512.png" WidthRequest="36" HorizontalOptions="Center" Aspect="AspectFit"/>
                    <Label Text="Limpiar" HorizontalTextAlignment="Center" FontSize="Micro"/>
                </VerticalStackLayout>
            </Border>

            <!-- Bot칩n 2 -->
            <Border StrokeThickness="2" WidthRequest="80" HeightRequest="80" Padding="0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding DownloadCommand}"/>
                </Border.GestureRecognizers>

                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10"/>
                </Border.StrokeShape>

                <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center">
                    <Image Source="icon_download_512.png" WidthRequest="36" HorizontalOptions="Center" Aspect="AspectFit"/>
                    <Label Text="Descargar" HorizontalTextAlignment="Center" FontSize="Micro"/>
                </VerticalStackLayout>
            </Border>

            <!-- Bot칩n 3 -->
            <Border StrokeThickness="2" WidthRequest="80" HeightRequest="80" Padding="0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding PasswordDialogCommand}"/>
                </Border.GestureRecognizers>

                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10"/>
                </Border.StrokeShape>

                <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center">
                    <Image Source="icon_decrypted_512.png" WidthRequest="36" HorizontalOptions="Center" Aspect="AspectFit"/>
                    <Label Text="Desencriptar" HorizontalTextAlignment="Center" FontSize="Micro"/>
                </VerticalStackLayout>
            </Border>
        </HorizontalStackLayout>

        <VerticalStackLayout Grid.Row="1" Padding="20,10" Margin="0,10" Background="Black">
            <Entry Placeholder="Buscar.." />
        </VerticalStackLayout>

        <!-- ScrollView para el contenido expandible -->

        <ScrollView Grid.Row="2">
            <CollectionView ItemsSource="{Binding CoreList}">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Vertical" ItemSpacing="5"/>
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <toolkit:Expander BackgroundColor="Black">
                            <toolkit:Expander.Header>
                                <Label Text="{Binding Data01}" Padding="20,10" FontSize="18" FontAttributes="Bold"/>
                            </toolkit:Expander.Header>
                            <toolkit:Expander.Content>
                                <VerticalStackLayout>
                                    <VerticalStackLayout Padding="10">
                                        <HorizontalStackLayout Spacing="10">
                                            <Label Text="Usuario:       " FontAttributes="Bold"/>
                                            <Label Text="{Binding Data02}"/>
                                        </HorizontalStackLayout>
                                        <HorizontalStackLayout Spacing="10">
                                            <Label Text="Contrase침a:" FontAttributes="Bold"/>
                                            <Label Text="{Binding Data03}"/>
                                        </HorizontalStackLayout>
                                    </VerticalStackLayout>
                                    <HorizontalStackLayout HorizontalOptions="Center" Padding="10" Spacing="20">
                                        <ImageButton Background="Orange" Padding="5" CornerRadius="5" Source="icon_edit_512.png" HeightRequest="40" WidthRequest="100"/>
                                        <ImageButton Background="Red" Padding="5" CornerRadius="5" Source="icon_delete_512.png" HeightRequest="40" WidthRequest="100"/>
                                    </HorizontalStackLayout>
                                </VerticalStackLayout>
                            </toolkit:Expander.Content>
                        </toolkit:Expander>

                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            
        </ScrollView>
    </Grid>

</ContentPage>